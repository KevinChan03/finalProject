(window.webpackJsonp=window.webpackJsonp||[]).push([["editorEventsMiddleware"],{1149:function(e,t,n){"use strict";n.r(t);var r=
/*!
 * dush <https://github.com/tunnckoCore/dush>
 *
 * Copyright (c) Charlike Mike Reagent <@tunnckoCore> (https://i.am.charlike.online)
 * Released under the MIT license.
 */
function(){var e={_allEvents:Object.create(null),use:function(t,n){return t(e,n)||e},on:function(t,n,r){var o=e._allEvents[t]||(e._allEvents[t]=[]),a=r?function r(){r.called||(e.off(t,r),n.apply(n,arguments),r.called=!0)}:n;return a.__sourceString=n.toString(),o.push(a),e},once:function(t,n){return e.on(t,n,!0),e},off:function(t,n){if(n&&e._allEvents[t]){var r=n.toString();e._allEvents[t]=e._allEvents[t].filter(function(e){return e.__sourceString!==r})}else t?e._allEvents[t]=[]:e._allEvents=Object.create(null);return e},emit:function(t){if("*"!==t){var n=[].slice.call(arguments);(e._allEvents[t]||[]).map(function(e){e.apply(e,n.slice(1))}),(e._allEvents["*"]||[]).map(function(e){e.apply(e,n)})}return e}};return e},o='(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,\n\t0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");\n\tfor(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\\/\\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);\n\tmixpanel.init("'.concat("4c861d2549b7ac5f0e4232ffb8285470",'", {debug: ').concat(!1,", autotrack: false});\n"),a=n(424),i=n(462),c=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).date,t=void 0===e?Date.now():e;return function(e){return{logoId:function(e){return e.location.payload.logoid}(e),userId:function(e){return e.auth.user.id}(e),event_on:t}}},u=["variations-responded","variations-drawn"],l={removeSymbol:"remove-symbol",removeContainer:"remove-container"};function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=c(),s=function(e,t){var n=e.getState();t.track("user-save",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({ingredients:Object(i.a)(n)},p(n)))},d=n(93),b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.every,r=void 0===n?1:n,o=t.debug,a=void 0!==o&&o,i=0;return function(){i%r==0?e.apply(void 0,arguments):a&&console.log("Skipping invocation, count",i),i+=1}},y=n(417),g=n(96);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=c(),O=b(function(e,t,n){n.meta.changedBy===y.g&&t.track("edit-logo",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){v(e,t,n[t])})}return e}({ingredients:n.payload.ingredients},m(e.getState())))},{every:1}),h=Object(d.b)(O,800),j=b(function(e,t,n){var r=e.getState();Object(g.c)("edit-logo",{logoId:r.location.payload.logoid,userId:r.auth.user.id,featureType:r.editor.editState.editedFeatureType,featureKey:r.editor.editState.editedFeatureKey,editName:n.payload.fn.name})},{every:1}),_=Object(d.b)(j,800),S=function(e,t,n){if(n.meta.changedBy===y.i){var r=e.getState();Object(g.c)("select-variation",{userId:r.auth.user.id,logoId:r.editor.logo.id,feature:n.meta.featureType,variation:n.meta.variationType})}},w=function(e,t,n){if(n.type===a.K){var r=e.getState();Object(g.c)("request-variations",{userId:r.auth.user.id,logoId:r.editor.logo.id,variation:n.payload.variationType,featureType:n.payload.featureKey})}},E=n(528),k=Object(E.a)(),P=function(e){return e.map(function(e){return e.hex})},x=function(e,t,n){if(n.meta.variationType===y.k){var r=e.getState(),o=P(Object(E.b)(n.payload.ingredients,!0)),i=P(k(r));o.filter(function(e){return i.indexOf(e)<0}).forEach(function(t){e.dispatch({type:a.z,payload:t})})}},I=n(436),T=n(565),L=n(676),M=function(e,t,n){if(n.meta.variationType===y.t){var r=Object(I.c)(n.payload.ingredients,function(e,t){return"symbol"===t.type&&t.data.id}).feature;if(r){var o=r.data.id,i=Object(T.c)(Object(L.a)(e.getState()),o);e.dispatch({type:a.Q,payload:i})}}};function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=c(),C=function(e,t,n){var r=l[n.payload];t.track(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){N(e,t,n[t])})}return e}({},B(e.getState())))};function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=c(),D=function(e,t){t.track("hide-variations-popup-tooltip",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){R(e,t,n[t])})}return e}({},A(e.getState())))},K=function(e){!function(e){e.once("*",function(e,t,n){var r=function(e){return e.auth.user.id}(t.getState());n.identify(r)})}(e),function(e){e.on(a.G,s)}(e),function(e){e.on(a.i,h),e.on(a.S,_)}(e),function(e){e.on(a.i,S),e.on(a.K,w)}(e),function(e){e.on(a.i,M)}(e),function(e){e.on(a.i,x)}(e),function(e){e.on(a.y,C)}(e),function(e){e.on(a.b,D)}(e)};t.default=function(){(function(){if(!document.getElementById("MIXPANEL_SCRIPT")){var e=document.createElement("script");e.id="MIXPANEL_SCRIPT",e.type="text/javascript",e.innerHTML=o,document.body.appendChild(e)}})(),mixpanel.disable(u);var e=r();K(e);return{middleware:function(t){return function(n){return function(r){return e.emit(r.type,t,mixpanel,r),n(r)}}},destroyListeners:function(){return e.off()}}}}}]);
//# sourceMappingURL=editorEventsMiddleware.logojoy-app.js.map